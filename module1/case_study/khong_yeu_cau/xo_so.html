<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<h1>
    Xổ Số Code Gym
</h1>
<p id="showXoSo">

</p>
</body>
<script>
    class HeThong {
        constructor() {
            this.maSoTrung = [];
            this.giaiThuong = [];
            this.cachMuaSo = 1;
            this.soLuaChon = ["","" ,"" ,"" ,"" ,"" ];
        }

        getMaSoTrung() {
            return this.maSoTrung;
        }

        setMaSoTrung() {
            this.maSoTrung = ["12","34","56","78","90","10"];
        }

        getGiaiThuong() {
            return this.giaiThuong;
        }

        setGiaiThuong(giai1, giai2, giai3) {
            this.giaiThuong = [giai1, giai2, giai3];
        }

        setTuyChon() {
            this.cachMuaSo = +prompt("Bạn có 2 lựa chọn\n1.Bạn muốn tự chọn số\n" + "2.Hệ thống tự chọn số");
            if (this.cachMuaSo===2) {
                for (let i = 0; i < this.soLuaChon.length ; i++) {
                    this.soLuaChon[i]= Math.floor(Math.random() * 100);
                }
                this.getHienthi();
                this.setHienThi();
            } else {
                for (let i = 0; i < this.soLuaChon.length ; i++) {
                    this.soLuaChon[i]="";
                } this.getHienthi();
                this.setHienThi();
                return this.cachMuaSo;}
        }

        getSoLuaChon() {
            return this.soLuaChon;
        }
        checkKetQua(){
            let dem = 0
            for (let i = 0; i < 6 ; i++) {
                if (this.maSoTrung[i] === this.soLuaChon[i]){
                    dem++
                }
            }
            if (dem==6) {alert(" Trúng giải nhất, giải thưởng là: "+this.giaiThuong[0]);}
            else alert("không trúng giải");
        }

        getHienthi() {
            let showInfo = "";
            showInfo = "<table> <tr>";
            for (let i = 0; i < 6; i++) {
                showInfo += ' <td><input style="width: 60px; height: 60px; font-size: 30px; border-radius: 60px" type="button" value="' + this.soLuaChon[i] + '" onclick="chonSo(' + i + ')"></td>';
            }
            showInfo += "</tr>";
            showInfo += '<tr><td><button type="button" onclick="muaVe()">Mua vé</button>';
            showInfo += '<td colspan="5"><button type="button" onclick="xemketqua()">Xem kết quả</button></td>' + '</tr></table>';
            return showInfo;
        }

        setHienThi() {
            document.getElementById("showXoSo").innerHTML = this.getHienthi();
        }

        chonSoNguoiChoi(index) {
            if (this.cachMuaSo===1) {
                this.soLuaChon[index] = prompt("nhập số");
            }
            this.getHienthi();
            this.setHienThi();


        }
    }

    class NguoiChoi {
        constructor(heThong) {
            this.heThong = heThong;
        }

        luaChonMuaSo() {
            this.heThong.setTuyChon();
        }

        chonMaSo(index) {
            this.heThong.chonSoNguoiChoi(index);
        }
        xemKetQua(){
            this.heThong.checkKetQua();
        }
    }

    let hethong = new HeThong();
    let nguoiChoi = new NguoiChoi(hethong);
    hethong.getHienthi();
    hethong.setHienThi();
    hethong.setMaSoTrung();
    hethong.setGiaiThuong("100 triệu","50 triệu", "20 triệu");
    function chonSo(index) {
        nguoiChoi.chonMaSo(index);
    }

    function muaVe() {
        nguoiChoi.luaChonMuaSo();
    }
    function xemketqua() {
        nguoiChoi.xemKetQua();
    }

</script>
</html>